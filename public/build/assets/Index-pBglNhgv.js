import{u as x,a as k,r as f,e as R,Z as B,d as v,c as d,f as s,g as o,w as t,F as h,h as L,t as i,i as $,j as l,k as C,o as n,l as E,x as I}from"./app-LDVDDXIB.js";import{u as N}from"./useArrayHandlers-JXOu8LuP.js";import{u as U}from"./useHttpService-H3Bhthf8.js";import{_ as y}from"./InputGroup-DFOwqnPq.js";import{_ as F}from"./TheCheckbox--M688_LN.js";import{_ as H}from"./TheFilter-Bt1ein-f.js";import{_ as M}from"./TheBadge-BK2ZTkEW.js";import{_ as m}from"./TwoColumnRow-BlIMmxAF.js";import{_ as K}from"./TheCard-DltuzUPB.js";const T={class:"row my-3"},j={class:"col-12"},z={class:"col-xl-4 col-md-6 mb-2"},D={class:"col-xl-4 col-md-6 mb-2"},G={class:"col-xl-4 col-md-6 mb-2"},Z={key:0,class:"row row-cols-xl-3 row-cols-lg-2 row-cols-md-2 row-cols-sm-1 row-cols-1 g-3"},q={class:"mb-0"},J={class:"mb-0"},O={key:1,class:"row mb-4"},P={class:"col-12"},Q={class:"mt-3 lead"},W={class:"row my-4"},X={class:"col-12"},Y={class:"fw-bold"},de={__name:"Index",setup(ee){x();const g=k(),c=N(),{get:w}=U(),u=f({retailers:[]}),a=f({name:"",city:"",isActive:!1});R(async()=>{await b()});const b=async()=>{const{data:p}=await w(B.RETAILER);u.retailers=p.retailers},V=()=>{c.resetSearchKeys(a),c.resetSortKeys()},A=v(()=>c.sortArrayByStringColumn(u.retailers,"name")),_=v(()=>c.filterArray(A.value,a));return(p,r)=>{const S=C("RouterLink");return n(),d(h,null,[s("div",T,[s("div",j,[o(H,{onResetFilter:V},{default:t(()=>[s("div",z,[o(y,{modelValue:a.name,"onUpdate:modelValue":r[0]||(r[0]=e=>a.name=e),placeholder:"Поиск по названию"},{default:t(()=>[l(" Торговая сеть ")]),_:1},8,["modelValue"])]),s("div",D,[o(y,{modelValue:a.city,"onUpdate:modelValue":r[1]||(r[1]=e=>a.city=e),placeholder:"Поиск по городу"},{default:t(()=>[l(" Город ")]),_:1},8,["modelValue"])]),s("div",G,[o(F,{id:"is_active",modelValue:a.isActive,"onUpdate:modelValue":r[2]||(r[2]=e=>a.isActive=e)},{default:t(()=>[l(" Показать только активных ")]),_:1},8,["modelValue"])])]),_:1})])]),_.value.length>0?(n(),d("div",Z,[(n(!0),d(h,null,L(_.value,e=>(n(),E(K,{key:e.id,"header-classes":["bg-light"],"with-footer":""},{header:t(()=>[s("h4",q,i(e.name),1),s("p",J,[s("span",{class:I(["badge","rounded",e.typeBgColor])},i(e.label),3)])]),body:t(()=>[o(m,{title:"Дистрибутор"},{default:t(()=>[l(i(e.customer),1)]),_:2},1024),o(m,{title:"Город"},{default:t(()=>[l(i(e.city),1)]),_:2},1024),o(m,{title:"Работает"},{default:t(()=>[o(M,{"is-active":e.isActive},null,8,["is-active"])]),_:2},1024)]),footer:t(()=>[o(S,{to:{name:"Manager.Retailer.View",params:{id:e.id}},class:"btn btn-outline-primary"},{default:t(()=>[l("Подробнее ")]),_:2},1032,["to"])]),_:2},1024))),128))])):(n(),d("div",O,[s("div",P,[s("p",Q,i($(g).isLoading?"Подождите, загружаю...":"Записей не найдено..."),1)])])),s("div",W,[s("div",X,[s("p",null,[l("Всего записей: "),s("span",Y,i(_.value.length),1)])])])],64)}}};export{de as default};
