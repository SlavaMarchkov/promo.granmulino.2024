import{u as S,a as R,r as p,e as k,Y as x,d as v,c as n,f as s,g as l,w as c,F as f,h as B,t as r,i as L,j as t,k as C,o as i,x as E}from"./app-CvDqXEOd.js";import{u as I}from"./useArrayHandlers-Dmi2z74m.js";import{u as N}from"./useHttpService-Cv4QBHm9.js";import{_ as U,a as h}from"./TheFilter-VzPJfpVU.js";import{_ as $}from"./TheCheckbox-D3tzlK-V.js";import{_ as F}from"./TheBadge-BBHb-MvK.js";const H={class:"row my-3"},M={class:"col-12"},j={class:"col-md-4 mb-2"},K={class:"col-md-4 mb-2"},T={class:"col-md-4 mb-2"},z={key:0,class:"row row-cols-xl-4 row-cols-lg-3 row-cols-md-3 row-cols-sm-2 row-cols-1 g-3"},D={class:"card mb-0"},G={class:"card-header d-flex justify-content-between"},Y={class:"card-body mt-3"},q={class:"mb-2 list-unstyled"},J=s("strong",null,"Дистрибутор",-1),O=s("strong",null,"Город",-1),P=s("strong",null,"Работает",-1),Q={class:"card-footer"},W={key:1,class:"row mb-4"},X={class:"col-12"},Z={class:"mt-3 lead"},ss={class:"row my-4"},es={class:"col-12"},ts={class:"fw-bold"},ds={__name:"Index",setup(os){S();const y=R(),d=I(),{get:g}=N(),u=p({retailers:[]}),o=p({name:"",city:"",isActive:!1});k(async()=>{await w()});const w=async()=>{const{data:m}=await g(x.RETAILER);u.retailers=m.retailers},b=()=>{d.resetSearchKeys(o),d.resetSortKeys()},V=v(()=>d.sortArrayByStringColumn(u.retailers,"name")),_=v(()=>d.filterArray(V.value,o));return(m,a)=>{const A=C("RouterLink");return i(),n(f,null,[s("div",H,[s("div",M,[l(U,{onResetFilter:b},{default:c(()=>[s("div",j,[l(h,{modelValue:o.name,"onUpdate:modelValue":a[0]||(a[0]=e=>o.name=e),placeholder:"Поиск по названию"},{default:c(()=>[t(" Торговая сеть ")]),_:1},8,["modelValue"])]),s("div",K,[l(h,{modelValue:o.city,"onUpdate:modelValue":a[1]||(a[1]=e=>o.city=e),placeholder:"Поиск по городу"},{default:c(()=>[t(" Город ")]),_:1},8,["modelValue"])]),s("div",T,[l($,{id:"is_active",modelValue:o.isActive,"onUpdate:modelValue":a[2]||(a[2]=e=>o.isActive=e)},{default:c(()=>[t(" Показать только активных ")]),_:1},8,["modelValue"])])]),_:1})])]),_.value.length>0?(i(),n("div",z,[(i(!0),n(f,null,B(_.value,e=>(i(),n("div",{class:"col",key:e.id},[s("div",D,[s("h5",G,[t(r(e.name)+" ",1),s("span",{class:E(["badge","rounded",e.typeBgColor])},r(e.label),3)]),s("div",Y,[s("ul",q,[s("li",null,[J,t(": "+r(e.customer),1)]),s("li",null,[O,t(": "+r(e.city),1)]),s("li",null,[P,t(": "),l(F,{"is-active":e.isActive},null,8,["is-active"])])])]),s("div",Q,[l(A,{to:{name:"Manager.Retailer.View",params:{id:e.id}},class:"btn btn-outline-primary"},{default:c(()=>[t("Подробнее")]),_:2},1032,["to"])])])]))),128))])):(i(),n("div",W,[s("div",X,[s("p",Z,r(L(y).isLoading?"Подождите, загружаю...":"Записей не найдено..."),1)])])),s("div",ss,[s("div",es,[s("p",null,[t("Всего записей: "),s("span",ts,r(_.value.length),1)])])])],64)}}};export{ds as default};
