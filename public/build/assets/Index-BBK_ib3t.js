import{u as S,a as R,b as k,d as x,r as v,e as B,M as L,f as h,c as r,g as s,h as l,w as c,i as C,F as p,j as E,t as n,k as I,l as t,m as M,o as d,n as y,p as N,x as U,q as $}from"./app-BiIGfiXh.js";const F={class:"row my-3"},H={class:"col-12"},j={class:"col-md-4 mb-2"},K={class:"col-md-4 mb-2"},T={class:"col-md-4 mb-2"},q={key:0,class:"row row-cols-xl-4 row-cols-lg-3 row-cols-md-3 row-cols-sm-2 row-cols-1 g-3"},z={class:"card mb-0"},D={class:"card-header d-flex justify-content-between"},G={class:"card-body mt-3"},J={class:"mb-2 list-unstyled"},O=s("strong",null,"Дистрибутор",-1),P=s("strong",null,"Город",-1),Q=s("strong",null,"Работает",-1),W={class:"card-footer"},X={key:1,class:"row mb-4"},Y={class:"col-12"},Z={class:"mt-3 lead"},ss={class:"row my-4"},es={class:"col-12"},ts={class:"fw-bold"},ls={__name:"Index",setup(os){S();const f=R(),i=k(),{get:g}=x(),u=v({retailers:[]}),o=v({name:"",city:"",isActive:!1});B(async()=>{await w()});const w=async()=>{const{data:m}=await g(L.RETAILER);u.retailers=m.retailers},b=()=>{i.resetSearchKeys(o),i.resetSortKeys()},V=h(()=>i.sortArrayByStringColumn(u.retailers,"name")),_=h(()=>i.filterArray(V.value,o));return(m,a)=>{const A=M("RouterLink");return d(),r(p,null,[s("div",F,[s("div",H,[l(C,{onResetFilter:b},{default:c(()=>[s("div",j,[l(y,{modelValue:o.name,"onUpdate:modelValue":a[0]||(a[0]=e=>o.name=e),placeholder:"Поиск по названию"},{default:c(()=>[t(" Торговая сеть ")]),_:1},8,["modelValue"])]),s("div",K,[l(y,{modelValue:o.city,"onUpdate:modelValue":a[1]||(a[1]=e=>o.city=e),placeholder:"Поиск по городу"},{default:c(()=>[t(" Город ")]),_:1},8,["modelValue"])]),s("div",T,[l(N,{id:"is_active",modelValue:o.isActive,"onUpdate:modelValue":a[2]||(a[2]=e=>o.isActive=e)},{default:c(()=>[t(" Показать только активных ")]),_:1},8,["modelValue"])])]),_:1})])]),_.value.length>0?(d(),r("div",q,[(d(!0),r(p,null,E(_.value,e=>(d(),r("div",{class:"col",key:e.id},[s("div",z,[s("h5",D,[t(n(e.name)+" ",1),s("span",{class:U(["badge","rounded",e.typeBgColor])},n(e.label),3)]),s("div",G,[s("ul",J,[s("li",null,[O,t(": "+n(e.customer),1)]),s("li",null,[P,t(": "+n(e.city),1)]),s("li",null,[Q,t(": "),l($,{"is-active":e.isActive},null,8,["is-active"])])])]),s("div",W,[l(A,{to:{name:"Manager.Retailer.View",params:{id:e.id}},class:"btn btn-outline-primary"},{default:c(()=>[t("Подробнее")]),_:2},1032,["to"])])])]))),128))])):(d(),r("div",X,[s("div",Y,[s("p",Z,n(I(f).isLoading?"Подождите, загружаю...":"Записей не найдено..."),1)])])),s("div",ss,[s("div",es,[s("p",null,[t("Всего записей: "),s("span",ts,n(_.value.length),1)])])])],64)}}};export{ls as default};
