import{o as n,c as p,f as e,t as L,s as z,L as Q,a2 as B,g as c,w as b,x as N,T as C,l as E,F as I,h as P,m as oe,a as G,r as X,j as D,p as ie,q as j,i as F,u as ee,Y,n as se,Z as k,v as ae,z as V,N as ne,e as ce,d as W,B as de,G as ue,H as pe,k as ve}from"./app-LDVDDXIB.js";import{u as J}from"./useHttpService-H3Bhthf8.js";import{u as me}from"./useArrayHandlers-JXOu8LuP.js";import{_ as _e}from"./TheCheckbox--M688_LN.js";import{b as Z,c as fe}from"./formatters-k0Na949k.js";import{_ as be}from"./TheBadge-BK2ZTkEW.js";import{T as he}from"./TheSpinner-8yGDkJ68.js";import{_ as K}from"./TheCard-DltuzUPB.js";import{_ as H}from"./TwoColumnRow-BlIMmxAF.js";const ye={class:"input-group mb-2"},ge={class:"input-group-text"},Se=["disabled"],$e=e("i",{class:"bi-arrow-up"},null,-1),Ae=e("i",{class:"bi-arrow-down"},null,-1),xe=e("i",{class:"bi-trash"},null,-1),te={__name:"SellerItem",props:{seller:{type:Object,required:!0},index:{type:Number,default:1}},emits:["updateSeller","destroySeller"],setup(w,{emit:x}){const s=w,r=x,A=()=>{s.seller.isActive=!s.seller.isActive,r("updateSeller",s.seller)},o=()=>{r("updateSeller",s.seller)},d=()=>{s.seller.isSupervisor=!0,r("updateSeller",s.seller)},t=()=>{s.seller.supervisorId=null,r("updateSeller",s.seller)},i=()=>{r("destroySeller",s.seller)};return(v,m)=>(n(),p("div",null,[e("div",ye,[e("span",ge,L(w.index+1),1),z(e("input",{type:"text",class:"form-control","onUpdate:modelValue":m[0]||(m[0]=g=>s.seller.name=g),disabled:!s.seller.isActive,style:B(s.seller.isActive?"":"cursor: not-allowed;")},null,12,Se),[[Q,s.seller.name]]),c(C,{onClick:o,class:"btn-outline-primary fs-5 pt-1 pb-0",disabled:!s.seller.isActive,style:B(s.seller.isActive?"":"cursor: not-allowed;"),title:"Сохранить изменения"},{default:b(()=>[e("i",{class:N(s.seller.isActive!==!1?"bi-check-lg":"bi-dash")},null,2)]),_:1},8,["disabled","style"]),s.seller.supervisorId===null?(n(),E(C,{key:0,onClick:d,class:"btn-outline-secondary fs-5 pt-1 pb-0",disabled:!s.seller.isActive,style:B(s.seller.isActive?"":"cursor: not-allowed;"),title:"Сделать супервайзером"},{default:b(()=>[$e]),_:1},8,["disabled","style"])):(n(),E(C,{key:1,onClick:t,class:"btn-outline-secondary fs-5 pt-1 pb-0",disabled:!s.seller.isActive,style:B(s.seller.isActive?"":"cursor: not-allowed;"),title:"Переместить в ТП"},{default:b(()=>[Ae]),_:1},8,["disabled","style"])),c(C,{onClick:A,class:N(["fs-5 pt-1 pb-0",s.seller.isActive===!1?"btn-outline-success":"btn-outline-danger"]),title:s.seller.isActive!==!1?"Деактивировать":"Активировать"},{default:b(()=>[e("i",{class:N(s.seller.isActive!==!1?"bi-x-lg":"bi-arrow-counterclockwise")},null,2)]),_:1},8,["class","title"]),c(C,{onClick:i,class:"btn-outline-danger fs-5 pt-1 pb-0",disabled:s.seller.isActive||s.seller.supervisorId!==null,style:B(s.seller.isActive||s.seller.supervisorId!==null?"cursor: not-allowed;":""),title:"Удалить"},{default:b(()=>[xe]),_:1},8,["disabled","style"])])]))}},we={class:"input-group mb-2"},ke={class:"input-group-text"},Ce=["disabled"],Le=e("i",{class:"bi-arrow-down"},null,-1),Be=e("i",{class:"bi-trash"},null,-1),Ie={key:0,class:"ps-5"},De={__name:"SupervisorItem",props:{supervisor:{type:Object,required:!0},index:{type:[Number,String]}},emits:["updateSeller","destroySeller","updateSupervisor","destroySupervisor"],setup(w,{emit:x}){const s=w,r=x,A=m=>{m.isSupervisor===!0&&(m.supervisorId=null),r("updateSeller",m)},o=m=>{r("destroySeller",m)},d=()=>{s.supervisor.isActive=!s.supervisor.isActive,r("updateSupervisor",s.supervisor)},t=()=>{r("updateSupervisor",s.supervisor)},i=()=>{s.supervisor.isSupervisor=!1,r("updateSupervisor",s.supervisor)},v=()=>{r("destroySupervisor",s.supervisor)};return(m,g)=>(n(),p("div",null,[e("div",we,[e("span",ke,L(w.index+1),1),z(e("input",{type:"text",class:"form-control fw-bold","onUpdate:modelValue":g[0]||(g[0]=S=>s.supervisor.name=S),disabled:!s.supervisor.isActive,style:B(s.supervisor.isActive?"":"cursor: not-allowed;")},null,12,Ce),[[Q,s.supervisor.name]]),c(C,{onClick:t,class:"btn-outline-primary fs-5 pt-1 pb-0",disabled:!s.supervisor.isActive,style:B(s.supervisor.isActive?"":"cursor: not-allowed;"),title:"Сохранить изменения"},{default:b(()=>[e("i",{class:N(s.supervisor.isActive!==!1?"bi-check-lg":"bi-dash")},null,2)]),_:1},8,["disabled","style"]),c(C,{onClick:i,class:"btn-outline-secondary fs-5 pt-1 pb-0",disabled:s.supervisor.sellers.length>0,style:B(s.supervisor.sellers.length>0?"cursor: not-allowed;":""),title:"Разжаловать в ТП"},{default:b(()=>[Le]),_:1},8,["disabled","style"]),c(C,{onClick:d,class:N(["fs-5 pt-1 pb-0",s.supervisor.isActive===!1?"btn-outline-success":"btn-outline-danger"]),disabled:s.supervisor.sellers.length>0,style:B(s.supervisor.sellers.length>0?"cursor: not-allowed;":""),title:s.supervisor.isActive!==!1?"Деактивировать":"Активировать"},{default:b(()=>[e("i",{class:N(s.supervisor.isActive!==!1?"bi-x-lg":"bi-arrow-counterclockwise")},null,2)]),_:1},8,["class","disabled","style","title"]),c(C,{onClick:v,class:"btn-outline-danger fs-5 pt-1 pb-0",disabled:s.supervisor.sellers.length>0||s.supervisor.isActive,style:B(s.supervisor.sellers.length>0||s.supervisor.isActive?"cursor: not-allowed;":""),title:"Удалить"},{default:b(()=>[Be]),_:1},8,["disabled","style"])]),s.supervisor.sellers.length>0?(n(),p("div",Ie,[(n(!0),p(I,null,P(s.supervisor.sellers,(S,a)=>(n(),E(te,{key:S.id,seller:S,index:a,onUpdateSeller:h=>A(S),onDestroySeller:h=>o(S)},null,8,["seller","index","onUpdateSeller","onDestroySeller"]))),128))])):oe("",!0)]))}},Ue={class:"row g-2"},Te={class:"col-md-5"},Ne={class:"col-md-5"},Ee={class:"col-md-2"},Ve={__name:"AddSellerItem",props:{customerId:{type:Number,required:!0}},emits:["saveSeller"],setup(w,{emit:x}){const s=G(),r=w,A=()=>({customerId:r.customerId,supervisorId:"",name:"",isActive:!0,isSupervisor:!1}),o=X({seller:A()}),d=x,t=()=>{d("saveSeller",o.seller),o.seller=A()};return(i,v)=>(n(),p(I,null,[c(ie,{for:"sellerName",required:""},{default:b(()=>[D("Новый торговый представитель или супервайзер")]),_:1}),e("div",Ue,[e("div",Te,[c(j,{id:"sellerName",modelValue:o.seller.name,"onUpdate:modelValue":v[0]||(v[0]=m=>o.seller.name=m),placeholder:"ФИО торгового представителя"},null,8,["modelValue"])]),e("div",Ne,[c(_e,{id:"isSupervisor",modelValue:o.seller.isSupervisor,"onUpdate:modelValue":v[1]||(v[1]=m=>o.seller.isSupervisor=m)},{default:b(()=>[D("Отметить, если ТП - это супервайзер")]),_:1},8,["modelValue"])]),e("div",Ee,[c(C,{onClick:t,class:"btn-success w-100",loading:F(s).isLoading,disabled:F(s).isLoading},{default:b(()=>[D("Добавить")]),_:1},8,["loading","disabled"])])])],64))}},Pe=e("h4",{class:"mb-3"},"Супервайзеры с привязанными ТП",-1),Re={key:0,class:"row"},Oe={key:1,class:"row"},Me=e("div",{class:"col-12"},[e("div",{class:"bd-callout bd-callout-warning mb-0"},[e("p",{class:"mb-0"},[e("span",{class:"fw-bold text-danger"},"Не добавлено ни одного супервайзера!"),e("br"),D("Введите поочерёдно ФИО супервайзеров, отметив при этом галочку.")])])],-1),qe=[Me],je=e("hr",null,null,-1),Fe=e("h4",{class:"mb-3"},"Торговые представители без привязки к супервайзерам",-1),He={key:2,class:"row"},ze={key:3,class:"row"},Ge=e("div",{class:"col-12"},[e("div",{class:"bd-callout bd-callout-warning mb-0"},[e("p",{class:"mb-0"},[D("Наполните команду:"),e("br"),D("Шаг 1. Введите поочерёдно ФИО торговых представителей."),e("br"),D("Шаг 2. Привяжите их к супервайзерам перетаскиванием мышкой.")])])],-1),Je=[Ge],Ye=e("hr",null,null,-1),We={__name:"TheSellers",props:{customerId:{type:Number,required:!0},supervisors:{type:Array,required:!0,default:()=>[]},sellers:{type:Array,required:!0,default:()=>[]}},emits:["updateSellers"],setup(w,{emit:x}){const{post:s,update:r,destroy:A}=J(),o=ee(),d=w,t=x,i=async a=>{const{status:h,data:y}=await s(`${k.CUSTOMER}/${d.customerId}${k.SELLER}`,a);h==="success"&&(o.clear(),t("updateSellers",y))},v=async a=>{const{status:h,data:y}=await r(`${k.CUSTOMER}/${d.customerId}${k.SELLER}/${a.id}`,a);h==="success"&&(o.clear(),t("updateSellers",y))},m=async a=>{if(confirm("Точно удалить сотрудника? Уверены?")){const{status:h,data:y}=await A(`${k.CUSTOMER}/${d.customerId}${k.SELLER}/${a.id}`,a);h==="success"&&(console.log(y),t("updateSellers",y))}};function g(a,h){const y=JSON.parse(a.dataTransfer.getData("item"));y.supervisorId=h,v(y)}function S(a,h){a.dataTransfer.dropEffect="move",a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("item",JSON.stringify(h))}return(a,h)=>(n(),p(I,null,[Pe,d.supervisors.length>0?(n(),p("div",Re,[(n(!0),p(I,null,P(d.supervisors,(y,R)=>(n(),E(De,{key:y.id,supervisor:y,index:R,onDrop:O=>g(O,y.id),onDragover:h[0]||(h[0]=Y(()=>{},["prevent"])),onDragenter:h[1]||(h[1]=Y(()=>{},["prevent"])),onUpdateSupervisor:v,onDestroySupervisor:m,onUpdateSeller:v,onDestroySeller:m},null,8,["supervisor","index","onDrop"]))),128))])):(n(),p("div",Oe,qe)),je,Fe,d.sellers.length>0?(n(),p("div",He,[(n(!0),p(I,null,P(d.sellers,(y,R)=>(n(),E(te,{key:y.id,seller:y,index:R,onDragstart:O=>S(O,y),draggable:!!y.isActive,onUpdateSeller:v,onDestroySeller:m},null,8,["seller","index","onDragstart","draggable"]))),128))])):(n(),p("div",ze,Je)),Ye,c(se),c(Ve,{"customer-id":d.customerId,onSaveSeller:i},null,8,["customer-id"])],64))}},Ze={class:"list-group-item m-0"},Ke={class:"row g-2 align-items-center p-0"},Qe={class:"col-md-5"},Xe={class:"input-group"},es={class:"input-group-text"},ss={class:"col-md-3"},ts={class:"input-group"},ls=e("span",{class:"input-group-text"},"₽",-1),rs=e("span",{class:"input-group-text"},"00,00",-1),os={class:"col-md-4"},is={class:"input-group"},as=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-calendar-date"})],-1),ns=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-clock"})],-1),cs={__name:"PriceListItem",props:{product:{type:Object,required:!0},categoryId:{type:Number,required:!0}},emits:["updateProduct"],setup(w,{emit:x}){const s=w,r=x,o=X({form:{customerId:s.product.customerId,categoryId:s.categoryId,productId:s.product.id,customerPrice:s.product.customerPrice?Z(s.product.customerPrice):"",isListed:s.product.isListed??!1,updatedAt:s.product.updatedAt??""}}),d=()=>{const t=fe(o.form.customerPrice);if(isNaN(t)){o.form.customerPrice="",o.form.isListed=!1,alert("Неверный формат цены продукта!");return}o.form.customerPrice=Z(t);const i=new Date;o.form.updatedAt=i.toLocaleDateString()+" в "+i.toLocaleTimeString(),r("updateProduct",o.form)};return(t,i)=>(n(),p("li",Ze,[e("div",Ke,[e("div",Qe,[e("div",Xe,[e("div",es,[z(e("input",{class:"form-check-input mt-0",type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=v=>o.form.isListed=v),onChange:d,tabindex:-1},null,544),[[ae,o.form.isListed]])]),c(j,{"model-value":s.product.name,readonly:"readonly",tabindex:-1},null,8,["model-value"])])]),e("div",ss,[e("div",ts,[ls,c(j,{class:"text-center",modelValue:o.form.customerPrice,"onUpdate:modelValue":i[1]||(i[1]=v=>o.form.customerPrice=v),onInput:i[2]||(i[2]=v=>o.form.isListed=!1)},null,8,["modelValue"]),rs])]),e("div",os,[e("div",is,[as,c(j,{class:"text-center",modelValue:o.form.updatedAt,"onUpdate:modelValue":i[3]||(i[3]=v=>o.form.updatedAt=v),readonly:"readonly",tabindex:-1},null,8,["modelValue"]),ns])])])]))}},ds={class:"card mt-2 mb-0"},us={class:"card-header d-flex justify-content-between align-items-center py-0 px-4"},ps=e("h5",{class:"card-title"},"Продуктовая матрица контрагента",-1),vs={class:"card-body mt-3"},ms={class:"accordion",id:"categoriesAccordion"},_s={class:"accordion-item"},fs=["id"],bs=["data-bs-target","aria-controls"],hs=["id","aria-labelledby"],ys={class:"accordion-body"},gs={class:"list-group"},Ss=ne('<li class="list-group-item m-0"><div class="row g-2 text-center align-items-center p-0"><div class="col-md-5">Наименование</div><div class="col-md-3">Цена, руб.</div><div class="col-md-4">Дата и время обновления</div></div></li>',1),$s={__name:"PriceList",props:{customerId:{type:Number,required:!0},categories:{type:Array,required:!0,default:()=>[]}},emits:["updateCategories"],setup(w,{emit:x}){const{get:s,post:r}=J(),A=G();ee();const o=w,d=x,t=V([]),i=g=>{const S=t.value.findIndex(a=>a.productId===g.productId);S===-1?t.value.push(g):t.value[S]=g},v=async()=>{const g=await r(`${k.CUSTOMER}/${o.customerId}${k.PRODUCT}`,t.value);g&&g.status==="success"&&(d("updateCategories",g.data.products),t.value=[])},m=g=>g.reduce((S,a)=>a.isListed?S+1:S,0);return(g,S)=>(n(),p("div",ds,[e("div",us,[ps,c(C,{onClick:v,class:N(["btn-success w-25",{"btn-cursor-not-allowed":t.value.length===0}]),disabled:F(A).isButtonDisabled||t.value.length===0},{default:b(()=>[D("Сохранить")]),_:1},8,["class","disabled"])]),e("div",vs,[e("div",ms,[(n(!0),p(I,null,P(o.categories,a=>(n(),p("div",_s,[e("h2",{class:"accordion-header",id:`category${a.id}`},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${a.id}`,"aria-expanded":"false","aria-controls":`collapse${a.id}`},L(a.name)+" - "+L(m(a.products))+" из "+L(a.count),9,bs)],8,fs),e("div",{id:`collapse${a.id}`,class:"accordion-collapse collapse","aria-labelledby":`category${a.id}`,"data-bs-parent":"#categoriesAccordion",style:{}},[e("div",ys,[e("ul",gs,[Ss,(n(!0),p(I,null,P(a.products,h=>(n(),E(cs,{"category-id":a.id,product:h,onUpdateProduct:i},null,8,["category-id","product"]))),256))])])],8,hs)]))),256))])])]))}},As={key:0,class:"row"},xs={class:"col-12"},ws={class:"my-4"},ks={key:0,class:"row profile"},Cs={class:"col-xl-4"},Ls={class:"mb-0"},Bs=e("h4",{class:"mb-0"},"Торговые сети",-1),Is={key:0,class:"list-group"},Ds={class:"fw-bold"},Us=e("span",{class:"text-primary"},"Подробнее",-1),Ts={key:1,class:"mb-0"},Ns={class:"col-xl-8"},Es={class:"card"},Vs={class:"card-body pt-3"},Ps=e("ul",{class:"nav nav-tabs nav-tabs-bordered",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#profile-overview","aria-selected":"true",role:"tab"},"Профиль")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#price-list","aria-selected":"false",tabindex:"-1",role:"tab"},"Прайс-лист")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#profile-settings","aria-selected":"false",tabindex:"-1",role:"tab"},"Настройки")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#the-sellers","aria-selected":"false",tabindex:"-1",role:"tab"},"Команда ТП")])],-1),Rs={class:"tab-content pt-2"},Os=e("div",{class:"tab-pane fade show active profile-overview",id:"profile-overview",role:"tabpanel"},[e("h5",{class:"card-title"},"В разработке")],-1),Ms={class:"tab-pane fade pt-1",id:"price-list",role:"tabpanel"},qs=e("div",{class:"tab-pane fade pt-1",id:"profile-settings",role:"tabpanel"},[e("h5",{class:"card-title"},"В разработке")],-1),js={class:"tab-pane fade pt-1",id:"the-sellers",role:"tabpanel"},Fs=e("hr",null,null,-1),Xs={__name:"View",setup(w){const x=ue();pe();const s=G(),r=me(),{get:A}=J(),o=+x.params.id,d=V({}),t=V([]),i=V([]),v=V([]),m=V([]);ce(async()=>{await S(o),await a()});const g=W(()=>Object.keys(d.value).length!==0),S=async l=>{await A(`${k.CUSTOMER}/${l}`).then(({status:_,data:u})=>{_==="success"&&(d.value=u)}).then(()=>R(l)).then(()=>h(l))},a=async()=>{const{status:l,data:_}=await A(k.CATEGORY);l==="success"&&(v.value=_.categories)},h=async l=>{const{status:_,data:u}=await A(`${k.CUSTOMER}/${l}${k.PRODUCT}`);_==="success"&&(m.value=u.products)},y=W(()=>v.value.map(l=>({id:l.id,name:l.name,count:l.productsCount,products:l.products.map(_=>{const u=m.value.find(T=>T.productId===_.id);return{customerId:o,..._,...u}})}))),R=async l=>{const{status:_,data:u}=await A(`${k.CUSTOMER}/${l}${k.SELLER}`);if(_==="success"){t.value=u.sellers.filter($=>$.isSupervisor===!0),u.sellers.filter($=>!t.value.includes($)).forEach($=>{if($.isSupervisor!==!0&&$.supervisorId===null)i.value.push($);else{const U=t.value.findIndex(re=>re.id===$.supervisorId);t.value[U].sellers.push($);const q=r.sortArrayByStringColumn(t.value[U].sellers,"name");t.value[U].sellers=r.sortArrayByBoolean(q,"isActive")}});const M=r.sortArrayByStringColumn(i.value,"name");i.value=r.sortArrayByBoolean(M,"isActive");const f=r.sortArrayByStringColumn(t.value,"name");t.value=r.sortArrayByBoolean(f,"isActive")}};de(()=>x.params.id,()=>S(x.params.id));const O=l=>{const _=i.value.findIndex(f=>f.id===l.id),u=t.value.findIndex(f=>f.id===l.id);if(_===-1&&u===-1&&l.isSupervisor===!1&&l.supervisorId!==null){const f=t.value.findIndex(q=>q.id===l.supervisorId),$=t.value[f].sellers.findIndex(q=>q.id===l.id);t.value[f].sellers[$]=l;const U=r.sortArrayByStringColumn(t.value[f].sellers,"name");t.value[f].sellers=r.sortArrayByBoolean(U,"isActive")}if(_===-1&&u===-1&&l.isSupervisor===!0&&l.supervisorId===null&&(l.sellers.length===0?t.value.push(l):t.value.forEach(({sellers:f})=>{const $=f.findIndex(U=>U.id===l.id);f.splice($,1)})),_===-1&&u===-1&&l.isSupervisor===!1&&l.supervisorId===null&&(i.value.push(l),t.value.forEach(({sellers:f})=>{const $=f.findIndex(U=>U.id===l.id);$!==-1&&(f.splice($,1),r.sortArrayByStringColumn(f,"name"))})),_===-1&&u!==-1&&l.isSupervisor===!1&&l.supervisorId===null&&(i.value.push(l),t.value.splice(u,1)),_!==-1&&u===-1&&l.isSupervisor===!0&&(t.value.push(l),i.value.splice(_,1)),_!==-1&&u===-1&&l.isSupervisor===!1&&l.supervisorId!==null){i.value.splice(_,1);const f=t.value.findIndex($=>$.id===l.supervisorId);t.value[f].sellers.push(l),r.sortArrayByStringColumn(t.value[f].sellers,"name")}if(_!==-1&&u===-1&&l.isSupervisor===!1&&l.supervisorId===null&&(l.deletedAt!==null?i.value.splice(_,1):i.value[_]=l),u!==-1&&l.isSupervisor===!0)if(l.deletedAt!==null)t.value.splice(u,1);else{const f=t.value[u].sellers;t.value[u]=l,t.value[u].sellers=f}const T=r.sortArrayByStringColumn(i.value,"name");i.value=r.sortArrayByBoolean(T,"isActive");const M=r.sortArrayByStringColumn(t.value,"name");t.value=r.sortArrayByBoolean(M,"isActive")},le=l=>{m.value=l};return(l,_)=>{const u=ve("RouterLink");return n(),p(I,null,[F(s).isLoading?(n(),p("div",As,[e("div",xs,[e("h4",ws,[c(he)])])])):(n(),p(I,{key:1},[g.value?(n(),p("div",ks,[e("div",Cs,[c(K,{"body-classes":["profile-card pt-2 d-flex flex-column"],"header-classes":["bg-light"],class:"mb-4"},{header:b(()=>[e("h2",Ls,L(d.value.name),1)]),body:b(()=>[c(H,{title:"<h3>Регион</h3>"},{default:b(()=>[e("h3",null,L(d.value.region.name),1)]),_:1}),c(H,{title:"<h3>Город</h3>"},{default:b(()=>[e("h3",null,L(d.value.city.name),1)]),_:1}),c(H,{title:"<h3>Работает</h3>"},{default:b(()=>[c(be,{"is-active":d.value.isActive},null,8,["is-active"])]),_:1})]),_:1}),c(K,{"header-classes":["bg-light"],class:"mb-4"},{header:b(()=>[Bs]),body:b(()=>[d.value.retailers.length>0?(n(),p("div",Is,[(n(!0),p(I,null,P(d.value.retailers,(T,M)=>(n(),p("button",{key:T.id,class:"list-group-item list-group-item-action",type:"button"},[c(u,{to:{name:"Manager.Retailer.View",params:{id:T.id}},class:"d-flex justify-content-between text-black"},{default:b(()=>[e("span",null,[D(L(M+1)+". ",1),e("span",Ds,L(T.name),1)]),Us]),_:2},1032,["to"])]))),128))])):(n(),p("p",Ts,"Дистрибутор не имеет торговых сетей."))]),_:1})]),e("div",Ns,[e("div",Es,[e("div",Vs,[Ps,e("div",Rs,[Os,e("div",Ms,[c($s,{"customer-id":o,categories:y.value,onUpdateCategories:le},null,8,["categories"])]),qs,e("div",js,[c(We,{"customer-id":o,supervisors:t.value,sellers:i.value,onUpdateSellers:O},null,8,["supervisors","sellers"])])])])])])])):(n(),E(se,{key:1,class:"mt-3"}))],64)),Fs,c(u,{to:{name:"Manager.Customer.Index"},class:"btn btn-secondary my-2",role:"button"},{default:b(()=>[D("Обратно на Мои Контрагенты ")]),_:1})],64)}}};export{Xs as default};
