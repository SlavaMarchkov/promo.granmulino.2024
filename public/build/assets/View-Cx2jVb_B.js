import{b as C,a as N,d as u,z as D,e as V,A,B,c as n,i as v,f as t,g as e,F as p,t as a,m as O,w as l,T as _,l as $,G as L,H as M,k as U,o,j as c,R as E,S as F,V as G,n as H}from"./app-LDVDDXIB.js";import{u as j}from"./useHttpService-H3Bhthf8.js";import{T as z}from"./TheSpinner-8yGDkJ68.js";import{f as q}from"./formatters-k0Na949k.js";import{_ as J}from"./TheBadge-BK2ZTkEW.js";const K={key:0,class:"row"},Q={class:"col-12"},W={class:"my-4"},X={key:0,class:"row"},Y={class:"col-xl-6"},Z={class:"card"},tt={class:"card-header bg-primary text-white"},st={class:"mb-0"},et={class:"card-body py-5"},at={class:"table table-bordered align-middle text-wrap",style:{width:"100%"}},ot=t("th",{style:{width:"30%"}},"ID",-1),nt=t("th",null,"Название",-1),lt=t("th",null,"Вес, г",-1),ct={key:0},it=t("th",null,"Себестоимость, руб.",-1),dt=t("th",null,"Группа товаров",-1),rt=t("th",null,"В продаже?",-1),ut={class:"card-footer"},_t={class:"col-xl-6"},mt={class:"card"},ht={class:"card-body mb-4 text-center"},vt=t("h5",{class:"card-title"},"Изображение продукта",-1),pt=["src","alt"],bt=t("hr",null,null,-1),It={__name:"View",setup(yt){const i=L(),d=M(),b=C(),y=N(),{get:f}=j(),g=+i.params.id,w=b.getUser.role,k=u(()=>w===E.PRICE_ADMIN),s=D({});V(async()=>{await m(g)});const m=async h=>{const r=await f(`${A.PRODUCT}/${h}`);r.status==="success"&&(s.value=r.data)};B(()=>i.params.id,()=>{m(i.params.id)});const x=u(()=>Object.keys(s.value).length!==0),I=u(()=>s.value.image?`${F}${s.value.image}`:[G]),P=()=>{d.push({name:"Product.View",params:{id:s.value.prev}})},R=()=>{d.push({name:"Product.View",params:{id:s.value.next}})},S=()=>{window.print(),d.push("/").catch(()=>{})};return(h,r)=>{const T=U("RouterLink");return o(),n(p,null,[v(y).isLoading?(o(),n("div",K,[t("div",Q,[t("h4",W,[e(z)])])])):(o(),n(p,{key:1},[x.value?(o(),n("div",X,[t("div",Y,[t("div",Z,[t("div",tt,[t("h3",st,a(s.value.name),1)]),t("div",et,[t("table",at,[t("tbody",null,[t("tr",null,[ot,t("td",null,a(s.value.id),1)]),t("tr",null,[nt,t("td",null,a(s.value.name),1)]),t("tr",null,[lt,t("td",null,a(v(q)(s.value.weight)),1)]),k.value?(o(),n("tr",ct,[it,t("td",null,a(s.value.price),1)])):O("",!0),t("tr",null,[dt,t("td",null,a(s.value.categoryName),1)]),t("tr",null,[rt,t("td",null,[e(J,{"is-active":s.value.isActive},null,8,["is-active"])])])])])]),t("div",ut,[e(_,{onClick:P,class:"btn-outline-secondary",disabled:s.value.prev===null},{default:l(()=>[c("Пред.")]),_:1},8,["disabled"]),e(_,{onClick:R,class:"btn-outline-secondary mx-2",disabled:s.value.next===null},{default:l(()=>[c("След.")]),_:1},8,["disabled"])])])]),t("div",_t,[t("div",mt,[t("div",ht,[vt,t("img",{src:I.value,alt:s.value.name,class:"img-thumbnail img-fluid"},null,8,pt)])])])])):(o(),$(H,{key:1,class:"mt-3"}))],64)),bt,e(_,{onClick:S,class:"btn-secondary"},{default:l(()=>[c("Print")]),_:1}),e(T,{to:{name:"Product.Index"},class:"btn btn-secondary my-2",role:"button"},{default:l(()=>[c("Обратно на Ассортимент ")]),_:1})],64)}}};export{It as default};
