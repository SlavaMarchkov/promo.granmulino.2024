import{d as J,r as Q,z as Y,e as te,M as q,f as E,A as N,o as i,c as p,g as e,l as n,t as g,k as P,G as F,F as w,j as k,H as V,h as l,w as d,y as v,s as I,I as S,J as $,K as M,L as O,m as oe,u as de,N as le,b as ae,O as Z,v as ne,B,P as ee,q as re,Q as se}from"./app-BnJxUDi9.js";var W={};Object.defineProperty(W,"__esModule",{value:!0});var z=W.default=void 0,ie={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1};z=W.default=ie;const ce={class:"card"},ue=e("div",{class:"card-header bg-success text-white"},"Скидка в цене",-1),_e={class:"card-body mt-3"},me=e("span",null,"Ассортимент для промо-акции",-1),pe=e("hr",null,null,-1),fe={class:"mb-3"},he={class:"fw-bold text-primary"},ve={key:0,class:"row row-cols-xl-3 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 row-cols-1 g-3"},be={class:"card mb-0"},ye={class:"card-header bg-secondary-subtle py-2 fw-bold text-black"},ge={class:"card-header py-2 fw-bold text-primary"},Pe={class:"card-body mt-2 pb-2"},$e={class:"row"},Ie=e("div",{class:"col-7"},'Продажи "До"',-1),we={class:"col-5 fw-bold text-end"},ke={class:"row"},Ce=e("div",{class:"col-7"},"План",-1),Ve={class:"col-5 fw-bold text-end"},Se={class:"row"},Ue=e("div",{class:"col-7"},"Прирост",-1),xe={class:"col-5 fw-bold text-end"},Me={class:"row"},Te=e("div",{class:"col-7"},"Бюджет",-1),Be={class:"col-5 fw-bold text-end"},Oe={class:"card-footer py-2"},Fe=["onClick"],qe={class:"row g-3"},Ne={class:"col-md-6"},Ee=e("option",{disabled:"",selected:"",value:""},"-- Выберите группу товара --",-1),Re=["value"],Ae={class:"col-md-6"},De=e("option",{disabled:"",selected:"",value:""},"-- Выберите SKU для промо-акции --",-1),Le=["value"],He={class:"col-md-4"},je={class:"input-group"},Ge=e("span",{class:"input-group-text"},"шт.",-1),Ke=e("div",{id:"sales_before_help",class:"form-text"},"если продаж не было, укажите 0",-1),Ye={class:"col-md-4"},ze={class:"input-group"},Je=e("span",{class:"input-group-text"},"шт.",-1),Qe={class:"col-md-4"},We={class:"input-group"},Xe=e("span",{class:"input-group-text"},"%",-1),Ze=e("div",{id:"surplus_plan_help",class:"form-text"},"рассчитывается автоматически",-1),es={class:"col-md-4"},ss={class:"input-group"},ts=e("span",{class:"input-group-text"},"руб.",-1),os=e("div",{id:"profit_plan_help",class:"form-text"},"берётся из P&L",-1),ds={class:"col-md-4"},ls={class:"input-group"},as=e("span",{class:"input-group-text"},"руб.",-1),ns={class:"col-md-4"},rs={class:"input-group"},is=e("span",{class:"input-group-text"},"руб.",-1),cs={__name:"TheDiscount",emits:["addProductToPromo","removeProductFromPromo"],setup(U,{emit:u}){const{get:b}=J(),y=u,x=()=>({categoryId:"",productId:"",salesBefore:0,salesPlan:0,surplusPlan:0,profitPlan:0,compensation:0,budgetPlan:0}),s=Q({categories:[],products:[],form:x()}),f=Y([]),t=Y([]);let h=null;function C(){s.products=[],s.form=x()}te(async()=>{await A(),h=new bootstrap.Modal(document.getElementById("modalPopUp")),h._element.addEventListener("hide.bs.modal",C)});const A=async()=>{const{data:m}=await b(q.CATEGORY,{params:{category_is_active:!0,product_is_active:!0,products:!0}});s.categories=m.categories},D=()=>{C(),h.show()},R=()=>{C(),h.hide(),h._element.removeEventListener("hide.bs.modal",C)},L=()=>{s.categories.map(m=>{+m.id==+s.form.categoryId&&(s.products=m.products)}),s.products=s.products.filter(m=>!t.value.includes(m.id))},H=()=>{f.value.push({categoryId:s.form.categoryId,productId:s.form.productId,categoryName:G(),productName:K(),salesBefore:s.form.salesBefore,salesPlan:s.form.salesPlan,surplusPlan:s.form.surplusPlan,budgetPlan:s.form.budgetPlan}),t.value.push(+s.form.productId),y("addProductToPromo",s.form),R()},j=m=>{f.value.splice(m,1),t.value.splice(m,1),y("removeProductFromPromo",m)},G=()=>{const m=s.categories.findIndex(_=>_.id===+s.form.categoryId);return s.categories[m].name},K=()=>{const m=s.categories.findIndex(a=>a.id===+s.form.categoryId),_=s.categories[m].products.findIndex(a=>a.id===+s.form.productId);return s.categories[m].products[_].name},r=E(()=>{let m=!0;for(let[_,a]of Object.entries(s.form))if(!(_==="salesBefore"||_==="surplusPlan")&&!a){m=!1;break}return m}),c=E(()=>f.value.reduce((m,_)=>m+parseInt(_.budgetPlan),0));N(()=>s.form.salesBefore,()=>o()),N(()=>s.form.salesPlan,()=>{o(),T()}),N(()=>s.form.compensation,()=>{T()});function o(){const m=+s.form.salesBefore,_=+s.form.salesPlan;s.form.surplusPlan=m===0?0:((_-m)/m*100).toFixed()}function T(){const m=+s.form.salesPlan,_=+s.form.compensation;s.form.budgetPlan=parseInt((_*m).toFixed(0))}return(m,_)=>(i(),p("div",null,[e("div",ce,[ue,e("div",_e,[e("div",{class:"d-flex justify-content-between align-items-center"},[me,e("button",{onClick:D,class:"btn btn-success",type:"button"}," Добавить ")]),pe,e("h5",fe,[n("Итоговый бюджет на промо-акцию: "),e("span",he,g(P(F)(c.value))+" руб.",1)]),f.value.length>0?(i(),p("div",ve,[(i(!0),p(w,null,k(f.value,(a,X)=>(i(),p("div",{class:"col",key:X},[e("div",be,[e("h6",ye,g(a.categoryName),1),e("h6",ge,g(a.productName),1),e("div",Pe,[e("div",$e,[Ie,e("div",we,g(P(F)(a.salesBefore))+" шт.",1)]),e("div",ke,[Ce,e("div",Ve,g(P(F)(a.salesPlan))+" шт.",1)]),e("div",Se,[Ue,e("div",xe,g(P(F)(a.surplusPlan))+" %",1)]),e("div",Me,[Te,e("div",Be,g(P(F)(a.budgetPlan))+" руб.",1)])]),e("div",Oe,[e("button",{class:"btn btn-danger w-100",onClick:Ft=>j(X)},"Удалить",8,Fe)])])]))),128))])):V("",!0)])]),l(O,{id:"modalPopUp","close-func":R,"custom-classes":["modal-lg"]},{title:d(()=>[n(" Добавление ассортимента для промо-акции ")]),body:d(()=>[e("div",qe,[e("div",Ne,[l(v,{for:"category_id",required:""},{default:d(()=>[n("Группа товара")]),_:1}),I(e("select",{"onUpdate:modelValue":_[0]||(_[0]=a=>s.form.categoryId=a),onChange:L,id:"category_id",class:"form-select"},[Ee,(i(!0),p(w,null,k(s.categories,a=>(i(),p("option",{key:a.id,value:a.id},g(a.name),9,Re))),128))],544),[[S,s.form.categoryId]])]),e("div",Ae,[l(v,{for:"product_id",required:""},{default:d(()=>[n("Ассортимент")]),_:1}),I(e("select",{"onUpdate:modelValue":_[1]||(_[1]=a=>s.form.productId=a),id:"product_id",class:"form-select"},[De,(i(!0),p(w,null,k(s.products,a=>(i(),p("option",{key:a.id,value:a.id},g(a.name),9,Le))),128))],512),[[S,s.form.productId]])]),e("div",He,[l(v,{for:"sales_before",required:""},{default:d(()=>[n('Продажи "До акции"')]),_:1}),e("div",je,[l($,{id:"sales_before",modelValue:s.form.salesBefore,"onUpdate:modelValue":_[2]||(_[2]=a=>s.form.salesBefore=a),type:"number",min:"0","aria-describedby":"sales_before_help"},null,8,["modelValue"]),Ge]),Ke]),e("div",Ye,[l(v,{for:"sales_plan",required:""},{default:d(()=>[n('План продаж "Во время"')]),_:1}),e("div",ze,[l($,{id:"sales_plan",modelValue:s.form.salesPlan,"onUpdate:modelValue":_[3]||(_[3]=a=>s.form.salesPlan=a),type:"number",min:"0"},null,8,["modelValue"]),Je])]),e("div",Qe,[l(v,{for:"surplus_plan",required:""},{default:d(()=>[n("План прироста")]),_:1}),e("div",We,[l($,{id:"surplus_plan",modelValue:s.form.surplusPlan,"onUpdate:modelValue":_[4]||(_[4]=a=>s.form.surplusPlan=a),type:"number",disabled:"disabled","aria-describedby":"surplus_plan_help"},null,8,["modelValue"]),Xe]),Ze]),e("div",es,[l(v,{for:"profit_plan",required:""},{default:d(()=>[n("Прибыль на 1 шт.")]),_:1}),e("div",ss,[l($,{id:"profit_plan",modelValue:s.form.profitPlan,"onUpdate:modelValue":_[5]||(_[5]=a=>s.form.profitPlan=a),type:"number",min:"0",step:"0.01","aria-describedby":"profit_plan_help"},null,8,["modelValue"]),ts]),os]),e("div",ds,[l(v,{for:"compensation",required:""},{default:d(()=>[n("Компенсация на 1 шт.")]),_:1}),e("div",ls,[l($,{id:"compensation",modelValue:s.form.compensation,"onUpdate:modelValue":_[6]||(_[6]=a=>s.form.compensation=a),type:"number",min:"0",step:"0.01","aria-describedby":"compensation_help"},null,8,["modelValue"]),as])]),e("div",ns,[l(v,{for:"budget_plan",required:""},{default:d(()=>[n("Бюджет")]),_:1}),e("div",rs,[l($,{id:"budget_plan",modelValue:s.form.budgetPlan,"onUpdate:modelValue":_[7]||(_[7]=a=>s.form.budgetPlan=a),type:"number",disabled:"disabled","aria-describedby":"budget_plan_help"},null,8,["modelValue"]),is])])])]),footer:d(()=>[l(M,{onClick:H,type:"button",class:"btn-success w-25",disabled:!r.value},{default:d(()=>[n(" Добавить ")]),_:1},8,["disabled"])]),_:1})]))}},us={class:"card"},_s=e("div",{class:"card-header bg-secondary text-white"},"Мотивация торгового персонала",-1),ms={class:"card-body mt-3"},ps={class:"d-flex justify-content-between align-items-center"},fs=e("span",null,"Участники из команды ТП",-1),hs=["disabled"],vs=e("hr",null,null,-1),bs={key:0},ys=e("div",{class:"row g-3"},null,-1),gs={__name:"SalesPeopleBoost",props:{customerId:{type:String,required:!0,default:""}},setup(U){const{get:u}=J(),b=U,y=Q({sellers:[]});N(()=>b.customerId,async f=>{y.sellers=[],await x(f)});const x=async f=>{const{status:t,data:h}=await u(`${q.CUSTOMER}/${f}`,{params:{customer_sellers:!0}});t==="success"&&(y.sellers=h.customerSellers)},s=E(()=>y.sellers.filter(f=>f.isActive));return(f,t)=>{const h=oe("RouterLink");return i(),p("div",null,[e("div",us,[_s,e("div",ms,[e("div",ps,[fs,e("button",{onClick:t[0]||(t[0]=(...C)=>f.addProductModalInit&&f.addProductModalInit(...C)),class:"btn btn-success",type:"button",disabled:s.value.length===0}," Добавить задание ",8,hs)]),vs,s.value.length===0?(i(),p("div",bs,[e("p",null,[n("В команду дистрибьютора не добавлено ни одного торгового представителя. "),l(h,{to:{name:"Manager.Customer.View",params:{id:b.customerId}},class:"fw-bold"},{default:d(()=>[n("Перейдите в карточку контрагента")]),_:1},8,["to"]),n(' на вкладку "Команда ТП" и добавьте торговых представителей.')])])):V("",!0)])]),l(O,{id:"modalPopUp","close-func":f.closeModal,"custom-classes":["modal-lg"]},{title:d(()=>[n(" Добавление ассортимента для промо-акции ")]),body:d(()=>[ys]),footer:d(()=>[l(M,{onClick:f.addProduct,type:"button",class:"btn-success w-25",disabled:!f.isFormValid},{default:d(()=>[n(" Добавить ")]),_:1},8,["onClick","disabled"])]),_:1},8,["close-func"])])}}},Ps={class:"card"},$s=e("div",{class:"card-header bg-warning text-white"},"Подарок за покупку",-1),Is={class:"card-body mt-3"},ws={class:"d-flex justify-content-between align-items-center"},ks=e("span",null,"Ассортимент для подарков за покупку",-1),Cs=e("hr",null,null,-1),Vs=e("div",{class:"row g-3"},null,-1),Ss={__name:"GiftForPurchase",setup(U){return(u,b)=>(i(),p("div",null,[e("div",Ps,[$s,e("div",Is,[e("div",ws,[ks,e("button",{onClick:b[0]||(b[0]=(...y)=>u.addProductModalInit&&u.addProductModalInit(...y)),class:"btn btn-success",type:"button"}," Добавить ")]),Cs])]),l(O,{id:"modalPopUp","close-func":u.closeModal,"custom-classes":["modal-lg"]},{title:d(()=>[n(" Добавление ассортимента для промо-акции ")]),body:d(()=>[Vs]),footer:d(()=>[l(M,{onClick:u.addProduct,type:"button",class:"btn-success w-25",disabled:!u.isFormValid},{default:d(()=>[n(" Добавить ")]),_:1},8,["onClick","disabled"])]),_:1},8,["close-func"])]))}},Us={class:"card"},xs=e("div",{class:"card-header bg-info text-white"},"Мотивация розничных точек",-1),Ms={class:"card-body mt-3"},Ts={class:"d-flex justify-content-between align-items-center"},Bs=e("span",null,"Список торговых точек",-1),Os=e("hr",null,null,-1),Fs=e("div",{class:"row g-3"},null,-1),qs={__name:"RetailersBoost",setup(U){return(u,b)=>(i(),p("div",null,[e("div",Us,[xs,e("div",Ms,[e("div",Ts,[Bs,e("button",{onClick:b[0]||(b[0]=(...y)=>u.addProductModalInit&&u.addProductModalInit(...y)),class:"btn btn-success",type:"button"}," Добавить ")]),Os])]),l(O,{id:"modalPopUp","close-func":u.closeModal,"custom-classes":["modal-lg"]},{title:d(()=>[n(" Добавление ассортимента для промо-акции ")]),body:d(()=>[Fs]),footer:d(()=>[l(M,{onClick:u.addProduct,type:"button",class:"btn-success w-25",disabled:!u.isFormValid},{default:d(()=>[n(" Добавить ")]),_:1},8,["onClick","disabled"])]),_:1},8,["close-func"])]))}},Ns={class:"card"},Es=e("div",{class:"card-header bg-dark text-white"},"Увеличение покрытия",-1),Rs={class:"card-body mt-3"},As={class:"d-flex justify-content-between align-items-center"},Ds=e("span",null,"Инфо по покрытию",-1),Ls=e("hr",null,null,-1),Hs=e("div",{class:"row g-3"},null,-1),js={__name:"CoverageIncrease",setup(U){return(u,b)=>(i(),p("div",null,[e("div",Ns,[Es,e("div",Rs,[e("div",As,[Ds,e("button",{onClick:b[0]||(b[0]=(...y)=>u.addProductModalInit&&u.addProductModalInit(...y)),class:"btn btn-success",type:"button"}," Добавить ")]),Ls])]),l(O,{id:"modalPopUp","close-func":u.closeModal,"custom-classes":["modal-lg"]},{title:d(()=>[n(" Добавление ассортимента для промо-акции ")]),body:d(()=>[Hs]),footer:d(()=>[l(M,{onClick:u.addProduct,type:"button",class:"btn-success w-25",disabled:!u.isFormValid},{default:d(()=>[n(" Добавить ")]),_:1},8,["onClick","disabled"])]),_:1},8,["close-func"])]))}},Gs={class:"card"},Ks=e("div",{class:"card-header bg-danger text-white"},"Временный ввод в матрицу сети In-Out",-1),Ys={class:"card-body mt-3"},zs={class:"d-flex justify-content-between align-items-center"},Js=e("span",null,"Ассортимент для промо-акции",-1),Qs=e("hr",null,null,-1),Ws=e("div",{class:"row g-3"},null,-1),Xs={__name:"TheInOut",setup(U){return(u,b)=>(i(),p("div",null,[e("div",Gs,[Ks,e("div",Ys,[e("div",zs,[Js,e("button",{onClick:b[0]||(b[0]=(...y)=>u.addProductModalInit&&u.addProductModalInit(...y)),class:"btn btn-success",type:"button"}," Добавить ")]),Qs])]),l(O,{id:"modalPopUp","close-func":u.closeModal,"custom-classes":["modal-lg"]},{title:d(()=>[n(" Добавление ассортимента для промо-акции ")]),body:d(()=>[Ws]),footer:d(()=>[l(M,{onClick:u.addProduct,type:"button",class:"btn-success w-25",disabled:!u.isFormValid},{default:d(()=>[n(" Добавить ")]),_:1},8,["onClick","disabled"])]),_:1},8,["close-func"])]))}},Zs={class:"row"},et={class:"col-lg-5"},st={class:"card"},tt=e("div",{class:"card-header bg-primary text-white"},"Укажите общие данные промо-акции",-1),ot={class:"card-body mt-3"},dt={class:"row g-3"},lt={class:"col-md-6"},at=e("option",{disabled:"",selected:"",value:""},"- Выберите вид промо-акции -",-1),nt=["value"],rt={class:"col-md-6"},it={class:"input-group"},ct=e("span",{class:"input-group-text"},"%",-1),ut={class:"col-md-6"},_t={class:"col-md-6"},mt=e("option",{disabled:"",selected:"",value:""},"- Выберите канал продаж -",-1),pt=["value"],ft={class:"col-md-6"},ht=e("option",{disabled:"",selected:"",value:""},"- Выберите регион -",-1),vt=["value"],bt={class:"col-md-6"},yt=e("option",{disabled:"",selected:"",value:""},"- Выберите город -",-1),gt=["value"],Pt={class:"col-md-6"},$t=e("option",{disabled:"",selected:"",value:""},"- Выберите дистрибутора -",-1),It=["value"],wt={class:"col-md-6"},kt=["disabled"],Ct=e("option",{disabled:"",selected:"",value:""},"- Выберите торговую сеть -",-1),Vt=["value"],St={class:"col-md-6"},Ut=e("div",{id:"start_date_help",class:"form-text"},"укажите дату начала акции",-1),xt={class:"col-md-6"},Mt=e("div",{id:"end_date_help",class:"form-text"},"укажите дату окончания акции",-1),Tt={class:"col-12"},Bt={class:"card-footer"},Ot={class:"col-lg-7"},Nt={__name:"Create",setup(U){const{get:u,post:b}=J(),y=de(),x=le().getUser,s=ae();Z("#start_date",{locale:z,onSelect:({date:r,datepicker:c})=>{t.promo.startDate=ee(r),c.hide()}}),Z("#end_date",{locale:z,onSelect:({date:r,datepicker:c})=>{t.promo.endDate=ee(r),c.hide()}});const f=()=>({promoType:"",discount:null,userId:x.id,regionId:"",cityId:"",channelId:"",customerId:"",retailerId:"",startDate:"",endDate:"",comments:"",products:[]}),t=Q({customers:[],retailers:[],cities:[],channels:[],promo:f()});let h=Y("");te(async()=>{await A(),await C()});const C=async()=>{const{data:r}=await u(q.CHANNEL);t.channels=r.channels},A=async()=>{const{data:r}=await u(q.CUSTOMER,{params:{region:!0,city:!0,user:!0,retailers:!0}});t.customers=r.customers};N(()=>t.promo.promoType,(r,c)=>{console.log(typeof r),t.promo.products=[],t.promo.discount=null;const o=r;h.value=se.find(T=>T.type===o).type});const D=r=>{t.promo.products.push(r)},R=r=>{t.promo.products.splice(r,1)},L=()=>{t.promo.retailerId="",t.customers.map(r=>{+r.id==+t.promo.customerId&&(t.retailers=r.retailers)})},H=()=>{t.cities=t.customers.map(r=>r.city).filter(r=>r.regionId===+t.promo.regionId).reduce((r,c)=>(r.findIndex(o=>o.id===c.id)===-1&&r.push(c),r),[])},j=async()=>{const r=await b(q.PROMO,t.promo);r&&r.status==="success"&&(y.clear(),t.promo=f())},G=E(()=>s.sortArrayByStringColumn(t.customers,"name")),K=E(()=>{let r=t.customers.map(c=>c.region).reduce((c,o)=>(c.findIndex(T=>T.id===o.id)===-1&&c.push(o),c),[]);return s.sortArrayByStringColumn(r,"name")});return(r,c)=>(i(),p("div",Zs,[e("div",et,[e("div",st,[tt,e("div",ot,[l(re),e("pre",null,"                        "+g(t.promo)+`
                    `,1),e("div",dt,[e("div",lt,[l(v,{for:"promo_type",required:""},{default:d(()=>[n("Вид промо-акции")]),_:1}),I(e("select",{"onUpdate:modelValue":c[0]||(c[0]=o=>t.promo.promoType=o),id:"promo_type",class:"form-select"},[at,(i(!0),p(w,null,k(P(se),o=>(i(),p("option",{key:o.id,value:o.type},g(o.title),9,nt))),128))],512),[[S,t.promo.promoType]])]),e("div",rt,[l(v,{for:"discount",required:P(h)==="DISCOUNT"},{default:d(()=>[n("Величина скидки ")]),_:1},8,["required"]),e("div",it,[l($,{id:"discount",modelValue:t.promo.discount,"onUpdate:modelValue":c[1]||(c[1]=o=>t.promo.discount=o),type:"number",min:"5",step:"1",max:"50",disabled:P(h)!=="DISCOUNT"},null,8,["modelValue","disabled"]),ct])]),e("div",ut,[l(v,{for:"user_id"},{default:d(()=>[n("Менеджер")]),_:1}),l($,{id:"user_id",type:"text",value:P(x).fullName,disabled:"disabled"},null,8,["value"])]),e("div",_t,[l(v,{for:"channel_id",required:""},{default:d(()=>[n("Канал продаж")]),_:1}),I(e("select",{"onUpdate:modelValue":c[2]||(c[2]=o=>t.promo.channelId=o),id:"channel_id",class:"form-select"},[mt,(i(!0),p(w,null,k(t.channels,o=>(i(),p("option",{key:o.id,value:o.id},g(o.name),9,pt))),128))],512),[[S,t.promo.channelId]])]),e("div",ft,[l(v,{for:"region_id",required:""},{default:d(()=>[n("Регион")]),_:1}),I(e("select",{"onUpdate:modelValue":c[3]||(c[3]=o=>t.promo.regionId=o),onChange:H,id:"region_id",class:"form-select"},[ht,(i(!0),p(w,null,k(K.value,o=>(i(),p("option",{key:o.id,value:o.id},g(o.name),9,vt))),128))],544),[[S,t.promo.regionId]])]),e("div",bt,[l(v,{for:"city_id",required:""},{default:d(()=>[n("Город")]),_:1}),I(e("select",{"onUpdate:modelValue":c[4]||(c[4]=o=>t.promo.cityId=o),id:"city_id",class:"form-select"},[yt,(i(!0),p(w,null,k(t.cities,o=>(i(),p("option",{key:o.id,value:o.id},g(o.name),9,gt))),128))],512),[[S,t.promo.cityId]])]),e("div",Pt,[l(v,{for:"customer_id",required:""},{default:d(()=>[n("Дистрибутор")]),_:1}),I(e("select",{"onUpdate:modelValue":c[5]||(c[5]=o=>t.promo.customerId=o),onChange:L,id:"customer_id",class:"form-select"},[$t,(i(!0),p(w,null,k(G.value,o=>(i(),p("option",{key:o.id,value:o.id},g(o.name),9,It))),128))],544),[[S,t.promo.customerId]])]),e("div",wt,[l(v,{for:"retailer_id",required:t.retailers.length>0},{default:d(()=>[n("Торговая сеть")]),_:1},8,["required"]),I(e("select",{"onUpdate:modelValue":c[6]||(c[6]=o=>t.promo.retailerId=o),id:"retailer_id",class:"form-select",disabled:t.retailers.length===0},[Ct,(i(!0),p(w,null,k(t.retailers,o=>(i(),p("option",{key:o.id,value:o.id},g(o.name),9,Vt))),128))],8,kt),[[S,t.promo.retailerId]])]),e("div",St,[l(v,{for:"start_date",required:""},{default:d(()=>[n("Начало промо-акции")]),_:1}),l($,{id:"start_date",type:"text",readonly:"readonly","aria-describedby":"start_date_help"}),Ut]),e("div",xt,[l(v,{for:"end_date",required:""},{default:d(()=>[n("Окончание промо-акции")]),_:1}),l($,{id:"end_date",type:"text",readonly:"readonly","aria-describedby":"end_date_help"}),Mt]),e("div",Tt,[l(v,{for:"comments"},{default:d(()=>[n("Механика промо-акции")]),_:1}),I(e("textarea",{id:"comments","onUpdate:modelValue":c[7]||(c[7]=o=>t.promo.comments=o),class:"form-control",style:{height:"100px"}},null,512),[[ne,t.promo.comments]])])])]),e("div",Bt,[l(M,{onClick:j,type:"button",class:"btn-primary w-25"},{default:d(()=>[n(" Сохранить ")]),_:1})])])]),e("div",Ot,[P(h)==="DISCOUNT"?(i(),B(cs,{key:0,onAddProductToPromo:D,onRemoveProductFromPromo:R})):V("",!0),P(h)==="SALES_PEOPLE_BOOST"?(i(),B(gs,{key:1,"customer-id":t.promo.customerId},null,8,["customer-id"])):V("",!0),P(h)==="GIFT_FOR_PURCHASE"?(i(),B(Ss,{key:2})):V("",!0),P(h)==="RETAILERS_BOOST"?(i(),B(qs,{key:3})):V("",!0),P(h)==="COVERAGE_INCREASE"?(i(),B(js,{key:4})):V("",!0),P(h)==="IN_OUT"?(i(),B(Xs,{key:5})):V("",!0)])]))}};export{Nt as default};
